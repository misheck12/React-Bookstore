{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"initMapStateToProps\", \"initMapDispatchToProps\", \"initMergeProps\"];\nimport verifySubselectors from './verifySubselectors';\nexport function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, _ref2) {\n  let {\n    areStatesEqual,\n    areOwnPropsEqual,\n    areStatePropsEqual\n  } = _ref2;\n  let hasRunAtLeastOnce = false;\n  let state;\n  let ownProps;\n  let stateProps;\n  let dispatchProps;\n  let mergedProps;\n\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewState() {\n    const nextStateProps = mapStateToProps(state, ownProps);\n    const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    const stateChanged = !areStatesEqual(nextState, state);\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n} // TODO: Add more comments\n// The selector returned by selectorFactory will memoize its results,\n// allowing connect's shouldComponentUpdate to return false if final\n// props have not changed.\n\nexport default function finalPropsSelectorFactory(dispatch, _ref) {\n  let {\n    initMapStateToProps,\n    initMapDispatchToProps,\n    initMergeProps\n  } = _ref,\n      options = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const mapStateToProps = initMapStateToProps(dispatch, options);\n  const mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  const mergeProps = initMergeProps(dispatch, options);\n\n  if (process.env.NODE_ENV !== 'production') {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);\n  }\n\n  return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}","map":{"version":3,"sources":["/home/hp/MICROVERSE/React.js/week3/solo-projects/React-Bookstore/node_modules/react-redux/es/connect/selectorFactory.js"],"names":["_objectWithoutPropertiesLoose","_excluded","verifySubselectors","pureFinalPropsSelectorFactory","mapStateToProps","mapDispatchToProps","mergeProps","dispatch","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","hasRunAtLeastOnce","state","ownProps","stateProps","dispatchProps","mergedProps","handleFirstCall","firstState","firstOwnProps","handleNewPropsAndNewState","dependsOnOwnProps","handleNewProps","handleNewState","nextStateProps","statePropsChanged","handleSubsequentCalls","nextState","nextOwnProps","propsChanged","stateChanged","pureFinalPropsSelector","finalPropsSelectorFactory","_ref","initMapStateToProps","initMapDispatchToProps","initMergeProps","options","process","env","NODE_ENV"],"mappings":"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","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"initMapStateToProps\", \"initMapDispatchToProps\", \"initMergeProps\"];\nimport verifySubselectors from './verifySubselectors';\nexport function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, {\n  areStatesEqual,\n  areOwnPropsEqual,\n  areStatePropsEqual\n}) {\n  let hasRunAtLeastOnce = false;\n  let state;\n  let ownProps;\n  let stateProps;\n  let dispatchProps;\n  let mergedProps;\n\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewState() {\n    const nextStateProps = mapStateToProps(state, ownProps);\n    const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    const stateChanged = !areStatesEqual(nextState, state);\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n}\n// TODO: Add more comments\n// The selector returned by selectorFactory will memoize its results,\n// allowing connect's shouldComponentUpdate to return false if final\n// props have not changed.\nexport default function finalPropsSelectorFactory(dispatch, _ref) {\n  let {\n    initMapStateToProps,\n    initMapDispatchToProps,\n    initMergeProps\n  } = _ref,\n      options = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const mapStateToProps = initMapStateToProps(dispatch, options);\n  const mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  const mergeProps = initMergeProps(dispatch, options);\n\n  if (process.env.NODE_ENV !== 'production') {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);\n  }\n\n  return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}"]},"metadata":{},"sourceType":"module"}